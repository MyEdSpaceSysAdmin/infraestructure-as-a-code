locals {
  payment_intents_schema = [
    { name = "id", type = "STRING", mode = "NULLABLE" }, 
    { name = "object", type = "STRING", mode = "NULLABLE" }, 
    { name = "amount", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "amount_capturable", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "amount_received", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "application", type = "STRING", mode = "NULLABLE" }, 
    { name = "application_fee_amount", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "automatic_payment_methods", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "canceled_at", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "cancellation_reason", type = "STRING", mode = "NULLABLE" }, 
    { name = "capture_method", type = "STRING", mode = "NULLABLE" }, 
    { name = "client_secret", type = "STRING", mode = "NULLABLE" }, 
    { name = "confirmation_method", type = "STRING", mode = "NULLABLE" }, 
    { name = "created", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "currency", type = "STRING", mode = "NULLABLE" }, 
    { name = "customer", type = "STRING", mode = "NULLABLE" }, 
    { name = "description", type = "STRING", mode = "NULLABLE" }, 
    { name = "invoice", type = "STRING", mode = "NULLABLE" }, 
    { name = "latest_charge", type = "STRING", mode = "NULLABLE" }, 
    { name = "livemode", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "next_action", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "on_behalf_of", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "payment_method", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_configuration_details", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "payment_method_types", type = "STRING", mode = "NULLABLE" }, 
    { name = "processing", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "receipt_email", type = "STRING", mode = "NULLABLE" }, 
    { name = "review", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "setup_future_usage", type = "STRING", mode = "NULLABLE" }, 
    { name = "shipping", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "source", type = "STRING", mode = "NULLABLE" }, 
    { name = "statement_descriptor", type = "STRING", mode = "NULLABLE" }, 
    { name = "statement_descriptor_suffix", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "status", type = "STRING", mode = "NULLABLE" }, 
    { name = "transfer_data", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "transfer_group", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "last_payment_error.charge", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.code", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.decline_code", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.doc_url", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.message", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.id", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.object", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.allow_redisplay", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.address.city", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.address.country", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.address.line1", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.address.line2", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.address.postal_code", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.address.state", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.email", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.name", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.billing_details.phone", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.brand", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.checks.address_line1_check", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.checks.address_postal_code_check", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.checks.cvc_check", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.country", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.display_brand", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.exp_month", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.exp_year", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.fingerprint", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.funding", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.generated_from", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.last4", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.networks.available", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.networks.preferred", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.three_d_secure_usage.supported", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.wallet", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.created", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.customer", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.livemode", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.installments", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.network", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.request_three_d_secure", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.link.persistent_token", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.setup_future_usage", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.stripe_js.rqdata", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.stripe_js.site_key", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.stripe_js.verification_url", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.paypal.preferred_locale", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.paypal.reference", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.wallet.dynamic_last4", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.wallet.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.bacs_debit.setup_future_usage", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.param", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.card.wallet.apple_pay.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.customer_balance.bank_transfer.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.customer_balance.funding_type", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.id", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.object", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.address_city", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.address_country", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.address_line1", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.address_line1_check", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.address_line2", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.address_state", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.address_zip", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.address_zip_check", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.brand", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.country", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.customer", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.cvc_check", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.dynamic_last4", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.exp_month", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.exp_year", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.fingerprint", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.funding", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.last4", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.name", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.tokenization_method", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.wallet", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.directory_server_encryption.algorithm", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.directory_server_encryption.certificate", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.directory_server_encryption.directory_server_id", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.directory_server_encryption.root_certificate_authorities", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.directory_server_name", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.merchant", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.one_click_authn", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.server_transaction_id", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.three_d_secure_2_source", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.three_ds_method_url", type = "STRING", mode = "NULLABLE" }, 
    { name = "next_action.use_stripe_sdk.three_ds_optimizations", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.amount", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.amount_type", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.description", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.end_date", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.interval", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.interval_count", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.reference", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.start_date", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "payment_method_options.card.mandate_options.supported_types", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.link.setup_future_usage", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.amount", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.address_line1_check", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.address_zip_check", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.brand", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.country", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.cvc_check", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.dynamic_last4", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.exp_month", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.exp_year", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.fingerprint", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.funding", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.last4", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.name", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.three_d_secure", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.card.tokenization_method", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.client_secret", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.created", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.currency", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.flow", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.livemode", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.address", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.email", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.name", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.phone", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.verified_address", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.verified_email", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.verified_name", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.verified_phone", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.statement_descriptor", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.status", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.usage", type = "STRING", mode = "NULLABLE" }, 
    { name = "payment_method_options.klarna.preferred_locale", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "metadata.email", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.is_manychat", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.livechat_url", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.order_id", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.page_id", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.phone", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.shipping_city", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.shipping_country", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.shipping_line", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.shipping_state", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.shipping_zip", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.tracer_request_id", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.type", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.user_id", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.shield_action", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.shield_failure", type = "INTEGER", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.address.city", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.address.country", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.address.line1", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.address.line2", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.address.postal_code", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.source.owner.address.state", type = "FLOAT", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.bacs_debit.fingerprint", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.bacs_debit.last4", type = "STRING", mode = "NULLABLE" }, 
    { name = "last_payment_error.payment_method.bacs_debit.sort_code", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.invoiceid", type = "STRING", mode = "NULLABLE" }, 
    { name = "metadata.projectid", type = "STRING", mode = "NULLABLE" }
  ]
}

variable "tables" {
  default = [
    {
      table_name = "payment_intents"
      schema     = local.payment_intents_schema
    }
  ]
}
